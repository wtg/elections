<div class="container page shadow" ng-if="!dataLoaded">
    <div class="row">
        <div class="loader">Loading...</div>
    </div>
</div>
<div class="container page shadow" ng-if="dataLoaded">
    <div class="row">
        <div class="col-sm-12 col-md-4">
            <h1>Political Parties</h1>
            <br/>
        </div>
        <div class="col-sm-12 col-md-8" ng-if="editPermissions">
            <div class="btn-group pull-right header-btns">
                <a class="btn btn-default active" href="#/parties">
                    View
                </a>
                <a class="btn btn-primary" href="#/parties/edit">
                    Edit
                </a>
            </div>
        </div>
    </div>
    <div class="row" ng-if="dataLoaded && parties.length === 0">
        <div class="col-xs-12">
            <br/>
            <h3>No parties were found!</h3>
            <br/>
        </div>
    </div>
    <div class="row">
        <div class="col-md-6" ng-repeat="i in [0,1]">
            <div class="panel panel-default" ng-repeat="p in parties track by $index" ng-if="$index % 2 == i">
                <div class="panel-heading">
                    <h2 class="panel-title"><a ng-href="#/party/{{p.party_id}}" ng-bind="p.name"></a></h2>
                </div>
                <div class="panel-body" style="height: 150px">
                    <p>
                        <strong>Party Leader:</strong>
                        <span ng-bind="getLeader(p)"></span>
                    </p>
                    <p>
                        <span ng-bind="p.platform.substr(0,355)"></span><span ng-if="p.platform.length>=355">&#8230;</span>
                    </p>
                </div>
            </div>
        </div>
    </div>
    <ng-include src="'partials/footer.html'"></ng-include>
</div>
